<?xml version="1.0" encoding="utf-8" ?>

<odoo>





     <record id="group_warehouse_rules_member" model="ir.rule">
        <field name="model_id" ref="stock.model_stock_picking" />
        <field name="domain_force">[

            '|','|','&amp;',
            ('picking_type_code','!=','internal'),
            ('location_dest_id.operating_unit_id','in',user.operating_unit_ids.ids),
            '&amp;',
            ('picking_type_code','=','internal'),
            '&amp;',
            ('state','in',('stock_in_transist','validate_confirm','done')),
            ('tmp_destination_loaction.operating_unit_id','in',user.operating_unit_ids.ids),

            '|',

            ('picking_type_id.warehouse_id','=', False),
             '|',
            ('picking_type_id.warehouse_id.operating_unit_id','=',False),
             '|',
            ('picking_type_id.warehouse_id.operating_unit_id','in',user.operating_unit_ids.ids),

            '|',


            ('operating_unit_id','=', False),
             '|',

            ('location_id.operating_unit_id','=',False),


            '|',
            ('operating_unit_id','in',user.operating_unit_ids.ids),
            ('location_id.operating_unit_id','in',user.operating_unit_ids.ids),


            ]
        </field>
        <field name="name">Stock pickings from allowed operating units</field>
        <field name="global" eval="True" />
        <field eval="0" name="perm_unlink" />
        <field eval="0" name="perm_write" />
        <field eval="1" name="perm_read" />
        <field eval="0" name="perm_create" />
    </record>




     <!--<record id="group_warehouse_rules_member" model="ir.rule">-->
        <!--<field name="model_id" ref="stock.model_stock_picking" />-->
        <!--<field name="domain_force">['|','|',-->

            <!--('operating_unit_id','in',user.operating_unit_ids.ids),-->
            <!--('location_id.operating_unit_id','in',user.operating_unit_ids.ids),-->

            <!--'&amp;',-->
            <!---->
            <!--('picking_type_code','=','internal'),-->



            <!--('state','in',('stock_in_transist','validate_confirm','done')),-->

             <!--('tmp_destination_loaction.operating_unit_id','in',user.operating_unit_ids.ids),-->


            <!--]-->
        <!--</field>-->
        <!--<field name="name">Stock pickings from allowed operating units</field>-->
        <!--<field name="global" eval="True" />-->
        <!--<field eval="0" name="perm_unlink" />-->
        <!--<field eval="0" name="perm_write" />-->
        <!--<field eval="1" name="perm_read" />-->
        <!--<field eval="0" name="perm_create" />-->
    <!--</record>-->

     <!--<data noupdate="0">-->
<!---->
<!--<record id="group_warehouse_user" model="res.groups">-->
        <!--<field name="name"> Picking Rules User</field>-->
    <!--</record>-->

      <!--<record id="group_warehouse_rules_member" model="ir.rule">-->
            <!--<field name="name">Picking User</field>-->
          <!--<field name="model_id" ref="stock.model_stock_picking" />-->
            <!--&lt;!&ndash;<field name="model_id" ref="model_stock_picking"/>&ndash;&gt;-->
            <!--<field name="domain_force">[('picking_type_code','=','internal'),-->
            <!--('location_dest_id.operating_unit_id','in',user.operating_unit_ids.ids)]</field>-->
            <!--<field name="groups" eval="[(4, ref('group_warehouse_user'))]"/>-->

    <!--</record>-->
     <!--</data>-->
</odoo>